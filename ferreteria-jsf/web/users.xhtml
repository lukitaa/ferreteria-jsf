<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                template="./newTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="top">
        <!-- ACA IRIA EL CONTENIDO A MOSTRARSE LUEGO DE LA BARRA DE NAVEGACION DE SERLO NECESIARIO -->
    </ui:define>

    <ui:define name="left">
        <!-- ACA IRIA EL CONTENIDO A MOSTRARSE SOBRE EL SECTOR IZQUIERDO DE SERLO NECESIARIO -->       
    </ui:define>

    <ui:define name="content">
        <!-- CONTENIDO GENERAL DE LA PAGINA -->
        <main role="main" class="container">
        <div class="col-md-11 col-md-offset-1">
            <!-- BEGINS BREADCRUMBS -->
            <ol class="breadcrumb">
                <li><h:commandLink action="index">Inicio</h:commandLink></li>
                <li class="active">Usuarios</li>
            </ol>
            <div class="jumbotron presentation users">
                    <h1>Editar Usuarios</h1>
                    <h2>Agregar usuario</h2>
                    <h:form class="form-inline" role="form">
                        <div class="form-group">
                          <label for="username">Nombre de usuario</label>
                          <h:inputText id="username" class="form-control" value="#{agregarUsuario.username}" required="required" />
                        </div>
                        <div class="form-group">
                          <label for="user-password">Contraseña</label>
                          <h:inputSecret id="password" class="form-control" value="#{agregarUsuario.password}" required="required"/>
                        </div>
                        <div class="checkbox">
                            <label>
                                Es administrador?  
                                <h:selectOneMenu value="#{agregarUsuario.amin}">
                                    <f:selectItems id="admin" value="#{agregarUsuario.items}" />
                                </h:selectOneMenu>
                            </label>
                        </div>
                        <!-- <button type="submit" class="btn btn-default">Agregar</button> -->
                        <h:commandButton action="#{agregarUsuario.addUser()}" value="Agregar"/>
                    </h:form>
                    
                    <h2>Usuarios actuales</h2>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Usuario</th>
                                <th>Contraseña</th>
                                <th>Administrador?</th>
                                <th>Editar</th>
                                <th>Eliminar</th>
                            </tr>
                        </thead>
                        <ui:repeat value="#{agregarUsuario.getListaUsuarios()}" var="fila">
                            <tr>
                                <!-- <td><h:outputText value="#{fila.idUser}" rendered="#{not fila.editable}"/></td> -->
                                <td><h:outputText value="#{fila.idUser}"/></td>
                                <!-- <td><h:outputText value="#{fila.username}" rendered="#{not fila.editable}"/></td> -->
                                <td><h:inputText id="username" value="#{fila.username}"/></td>
                                <!-- <td><h:outputText value="#{fila.password}" rendered="#{not fila.editable}"/></td> -->
                                <td><h:inputText value="#{fila.password}"/></td>
                                <!-- <td><h:outputText value="#{fila.esAdmin}" rendered="#{not fila.editable}"/></td> -->
                                <td>
                                    <h:outputText value="#{fila.esAdmin} &#160; "/>
                                    <h:selectOneMenu value="#{fila.esAdmin}">
                                        <f:selectItems id="admin" value="#{agregarUsuario.items}"/>
                                    </h:selectOneMenu>
                                </td>
                                <th><h:commandLink action="#{agregarUsuario.actualizarUsuario(fila)}" value="Editar" class="btn btn-info btn-sm"/></th>
                                <th><h:commandButton action="#{agregarUsuario.eliminarUsuario(fila)}" value="Eliminar" class="btn btn-danger btn-sm"></h:commandButton></th>
                            </tr>
                        </ui:repeat>        
                    </table>
                    
                </div>
                <!-- ENDS CONTENT 
                <h2>Usuarios actuales</h2>

                    <h:dataTable class="table table-bordered" value="#{agregarUsuario.listaUsuarios}" var="fila" border="1">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Nombre usuario" />
                            </f:facet>
                            <h:inputText value="#{fila.username}" rendered="#{fila.editable}"/>
                            <h:outputText id="idcli" value="#{fila.username}" rendered="#{not fila.editable}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Es administrador" />
                            </f:facet>
                            <h:inputText value="#{fila.admin}" rendered="#{fila.editable}"/>
                            <h:outputText id="nom" value="#{fila.esAdmin}" rendered="#{not fila.editable}"/>
                        </h:column>
                        <h:column rendered="#{not fila.editable}">
                            <f:facet name="header">
                                <h:outputText value="Contraseña" />
                            </f:facet>
                            <h:inputText value="#{fila.password}" rendered="#{not fila.editable}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header" >
                                <h:outputText value="Acciones"/>
                            </f:facet>
                            <h:commandButton class="btn btn-xs btn-info" value="Editar" action="#{agregarUsuario.editarUsuario(fila)}" rendered="#{not fila.editable}"/>
                            <h:outputText value="&#160;" />
                            <h:commandLink class="btn btn-xs btn-danger" value="Eliminar" action="#{agregarUsuario.eliminarUsuario(fila)}"/>
                        </h:column> 
                    </h:dataTable>
                -->
            </div>
        </main>
        
        <!-- ENDS CONTENT --> 
    </ui:define>

    <f:verbatim>
        <script type="text/javascript">
        function checkData(){
            var username = document.getElementById("username");
            alert(username);
        }
    </script>
    </f:verbatim>
    
</ui:composition>
