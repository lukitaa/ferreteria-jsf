<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                template="./newTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="top">
        <!-- ACA IRIA EL CONTENIDO A MOSTRARSE LUEGO DE LA BARRA DE NAVEGACION DE SERLO NECESIARIO -->
    </ui:define>

    <ui:define name="left">
        <!-- ACA IRIA EL CONTENIDO A MOSTRARSE SOBRE EL SECTOR IZQUIERDO DE SERLO NECESIARIO -->       
    </ui:define>

    <ui:define name="content">
        <!-- CONTENIDO GENERAL DE LA PAGINA -->
        <main role="main" class="container">
        <div class="col-md-10 col-md-offset-1">
            <!-- BEGINS BREADCRUMBS -->
            <ol class="breadcrumb">
                <li><a href="inicio">Inicio</a></li>
                <li class="active">Usuarios</li>
            </ol>
            <div class="jumbotron presentation users">
                    <h1>Editar Usuarios</h1>
                    <h2>Agregar usuario</h2>
                    <form class="form-inline" role="form" action="usuarios/quitar" method="post">
                        <div class="form-group">
                          <label for="username">Nombre de usuario</label>
                          <h:inputText id="username" class="form-control" value="#{agregarUsuario.username}" required="required" />
                        </div>
                        <div class="form-group">
                          <label for="user-password">Contrase√±a</label>
                          <h:inputText id="user-password" class="form-control" value="#{agregarUsuario.password}" required="required"/>
                        </div>
                        <div class="checkbox">
                            <label>
                                Es administrador?  
                                <h:selectOneMenu value="#{true}">
                                    <f:selectItems value="#{agregarUsuario.items}" />
                                </h:selectOneMenu>
                            </label>
                        </div>
                        
                        <!-- <button type="submit" class="btn btn-default">Agregar</button> -->
                        <h:commandButton action="#{agregarUsuario.addUser}" value="Agregar">
                            <f:param name="username" value="#{agregarUsuario.username}"/>
                            <f:param name="password" value="#{agregarUsuario.password}"/>
                            <f:param name="admin" value="#{agregarUsuario.isAdmin}"/>
                        </h:commandButton>
                    </form>
                    
                    <h2>Usuarios actuales</h2>

                        <h:dataTable class="table table-bordered" value="#{agregarUsuario.listaUsuarios}" var="fila" border="1">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Nombre usuario" />
                            </f:facet>
                            <h:outputText id="idcli" value="#{fila.username}" />
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Es administrador" />
                            </f:facet>
                            <h:outputText id="nom" value="#{fila.admin}" />
                        </h:column>
                        <h:column>
                            <f:facet name="header" >
                                <h:outputText value="Acciones"/>
                            </f:facet>
                            <h:commandLink class="btn btn-xs btn-info" value="Editar" action="#{agregarUsuario.editarUsuario}">
                                <f:param name="userId" value="#{fila.idUser}"/>
                                <f:param name="username" value="#{fila.username}"/>
                                <f:param name="password" value="#{fila.password}"/>
                                <f:param name="admin" value="#{fila.admin}"/>
                            </h:commandLink>
                            <h:outputText value="&#160;" />
                            <h:commandLink class="btn btn-xs btn-danger" value="Eliminar" action="#{agregarUsuario.eliminarUsuario}">
                                <f:param name="userId" value="#{fila.idUser}"/>
                            </h:commandLink>
                        </h:column> 
                    </h:dataTable>
                    
                </div>
                <!-- ENDS CONTENT -->
            </div>
        </main>
        
        <!-- ENDS CONTENT --> 
    </ui:define>

</ui:composition>
